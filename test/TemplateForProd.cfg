process HLT  = 
{

    # The number of events to be processed.
  untracked PSet configurationMetadata = 
{
untracked string version = "$Revision: 1.1.2.2 $"
untracked string name = "$Source: /cvs_server/repositories/CMSSW/CMSSW/FastSimulation/Configuration/test/Attic/TemplateForProd.cfg,v $"
untracked string annotation = "generation of minbias with pythia6, CTEQ 6L1 used"
}

    include "FastSimulation/Configuration/data/CommonIncludesForProd.cff"

   service = Timing { }

    untracked PSet maxEvents = {untracked int32 input = 50}

    # Gen paths
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"
#    include "Configuration/Spring08Production/data/Spring08_MinBias_Pythia.cfi"

###################SOURCE#########################
 source = PythiaSource 
  { 
  untracked int32 pythiaPylistVerbosity = 0
  untracked bool pythiaHepMCVerbosity = false
  untracked int32 maxEventsToPrint = 0
  
  # put here the cross section of your process (in pb) dummy
  untracked double crossSection = 184600000.
  # put here the efficiency of your filter (1. if no filter) dummy
  untracked double filterEfficiency = 0.00229

      PSet PythiaParameters = {
        vstring parameterSets = {
          "pythiaUESettings",
          "pythiaQCD_Pt_30_80"
        }

        include "Configuration/Generator/data/PythiaUESettings.cfi"

        vstring pythiaQCD_Pt_30_80 = {
	 'MSEL=1                 ! QCD high pT processes',
	 'CKIN(3)=30.          ! minimum pt hat for hard interactions',
	 'CKIN(4)=80.          ! maximum pt hat for hard interactions'      
        }
      }
   }
##########################END OF SOURCE#############################

################### WATCH OUT !!! ##################################
    ##### the com energy is overwritten is the Fast Sim, at least, let's overwrite it with the correct value 
#    Uncomment if not 14 TeV 
#    replace    famosSimHits.ActivateDecays.comEnergy = 10000.
#################################################################### 


################FILTER PART IF NEEDED###############################
    #these are needed by the filter
#    include "PhysicsTools/HepMCCandAlgos/data/genParticles.cfi"
#    include "GeneratorInterface/GenFilters/data/BCToEFilter.cfi"

#    sequence MCfilter = { genParticles, bctoefilter }
#      Don't forget to uncomment MCfilter in "simulation" and in "reconstruction" and update the PoolOutModule accordingly (?)
#####################################################################

    # Simulation
    include "PhysicsTools/HepMCCandAlgos/data/genEventWeight.cfi"
    include "PhysicsTools/HepMCCandAlgos/data/genEventScale.cfi"
    sequence simulation = { 
#   MCfilter &
    simulationWithFamos &  genEventScale & genEventWeight }

    # Reconstruction of all events, including those rejected at L1/HLT
    sequence hltEnd = { dummyModule }

    # HLT paths
    include "HLTrigger/Configuration/data/main/HLTpaths.cff"
	
    path reconstruction = { 
#        MCfilter &
	doCalo & towerMakerForAll & // Work-around because of a bug in HLT 
	reconstructionWithFamos // Reconstruction sequence
    }

    # To write out events 
    include "FastSimulation/Configuration/data/EventContent.cff"

    module o1 = PoolOutputModule { 
	using  AODSIMEventContent
	untracked string fileName = "AODWithHLT.root" 
        untracked PSet dataset ={	 
          untracked string dataTier = "AODSIM"
        }
#        untracked PSet SelectEvents = {
#	    vstring SelectEvents = {"reconstruction"}
#         }
    }
    endpath outpath = { o1 }

    # Keep the logging output to a nice level #
    include "FWCore/MessageService/data/MessageLogger.cfi"
    replace MessageLogger.destinations = {"detailedInfo.txt"}

}
